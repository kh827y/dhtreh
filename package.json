{
  "name": "loyalty-monorepo",
  "private": true,
  "engines": {
    "node": ">=18.18.0",
    "pnpm": ">=9.0.0"
  },
  "scripts": {
    "dev:api": "pnpm -C api start:dev",
    "dev:clean": "stdbuf -oL -eL pnpm -C api start:dev 2>&1 | jq -Rr 'def c(x): \"\\u001b[\"+x+\"m\"; def reset: c(\"0\"); def c_status(s):(s|tonumber) as $n | (if $n>=500 then c(\"1;31\") elif $n>=400 then c(\"1;33\") elif $n>=300 then c(\"1;34\") else c(\"1;32\") end)+($n|tostring)+reset; . as $line | (try fromjson catch null) as $j | if $j != null and ($j.msg==\"request completed\") and ($j.req) and ($j.res) then \"\\($j.req.method) \\($j.req.url) \\(c_status($j.res.statusCode))\" else $line end'",
    "dev:admin": "pnpm -C admin dev",
    "dev:cashier": "pnpm -C cashier dev",
    "dev:miniapp": "pnpm -C miniapp dev",
    "dev:bridge": "pnpm -C bridge start",
    "dev:portal": "pnpm -C merchant-portal dev",
    "build:api": "pnpm -C api build",
    "build:admin": "pnpm -C admin build",
    "build:cashier": "pnpm -C cashier build",
    "build:miniapp": "pnpm -C miniapp build",
    "build:portal": "pnpm -C merchant-portal build",
    "postman:gen": "pnpm -C api postman:gen",
    "typecheck": "pnpm -C api typecheck && pnpm -C admin tsc --noEmit && pnpm -C cashier tsc --noEmit && pnpm -C miniapp tsc --noEmit && pnpm -C merchant-portal tsc --noEmit",
    "lint": "pnpm -C api lint && pnpm -C admin lint && pnpm -C cashier lint && pnpm -C miniapp lint && pnpm -C merchant-portal lint",
    "lint:fix": "pnpm -C api lint --fix && pnpm -C admin lint --fix && pnpm -C cashier lint --fix && pnpm -C miniapp lint --fix && pnpm -C merchant-portal lint --fix",
    "format": "prettier -w .",
    "format:check": "prettier -c .",
    "test": "pnpm -C api test && pnpm -C api test:e2e",
    "dev:all": "pnpm -r --parallel --filter admin --filter merchant-portal --filter cashier --filter miniapp dev"
  },
  "devDependencies": {
    "eslint": "^9.18.0",
    "eslint-config-prettier": "^10.0.1",
    "eslint-plugin-prettier": "^5.2.2",
    "prettier": "^3.4.2"
  }
}
