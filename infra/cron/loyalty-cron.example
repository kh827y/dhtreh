# Example cron for single VPS (place into /etc/cron.d/loyalty)
# If you use "crontab -e", remove the user column.

SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

# Daily DB backup at 03:05 (requires /var/log/loyalty)
5 3 * * * root cd /opt/loyalty && ./scripts/backup.sh .env.production docker-compose.production.yml >> /var/log/loyalty/backup.log 2>&1

# Daily health smoke-check at 03:15
15 3 * * * root BASE_URL=https://api.example.com METRICS_TOKEN=... /opt/loyalty/scripts/smoke-check.sh >> /var/log/loyalty/smoke.log 2>&1

# Weekly integrations smoke (read-only) at 03:25 on Mondays
25 3 * * 1 root BASE_URL=https://api.example.com INTEGRATION_API_KEY=... SMOKE_USER_TOKEN=... /opt/loyalty/scripts/smoke-integrations.sh >> /var/log/loyalty/smoke-integrations.log 2>&1
