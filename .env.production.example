# Domain Configuration
DOMAIN=loyalty.example.com
ADMIN_EMAIL=admin@example.com

# Database
DB_PASSWORD=strong_password_here

# Redis
REDIS_PASSWORD=strong_redis_password_here

# Local cache (optional)
# CACHE_MAX_ENTRIES=5000
# CACHE_TTL_SETTINGS_MS=30000
# CACHE_TTL_OUTLET_MS=30000
# CACHE_TTL_STAFF_MS=15000

# Security Keys
ADMIN_KEY=generate_strong_random_key_here
API_KEY=generate_strong_api_key_here
QR_JWT_SECRET=generate_strong_jwt_secret_here
ADMIN_SESSION_SECRET=generate_strong_session_secret_here
PORTAL_JWT_SECRET=generate_strong_portal_jwt_secret_here
PORTAL_REFRESH_SECRET=generate_strong_portal_refresh_secret_here

# Admin Credentials
ADMIN_UI_PASSWORD=secure_admin_password

# URLs
API_BASE_URL=https://api.${DOMAIN}
MINIAPP_BASE_URL=https://app.${DOMAIN}
CORS_ORIGINS=https://admin.${DOMAIN},https://cashier.${DOMAIN},https://app.${DOMAIN},https://portal.${DOMAIN}

# Proxy / cookies
TRUST_PROXY=1
COOKIE_SECURE=true
# MAINTENANCE_MODE=0
# READ_ONLY_MODE=0

# Admin IP allowlist (recommended)
ADMIN_IP_WHITELIST=1.2.3.4,5.6.7.0/24
# ADMIN_IP_ALLOW_ALL=false

# Basic Auth for protected services (htpasswd format)
ADMIN_BASIC_AUTH=admin:$$2y$$10$$zFm7Zz.Hashed.Password.Here
TRAEFIK_BASIC_AUTH=traefik:$$2y$$10$$zFm7Zz.Hashed.Password.Here
METRICS_BASIC_AUTH=metrics:$$2y$$10$$zFm7Zz.Hashed.Password.Here

# Grafana
GRAFANA_PASSWORD=secure_grafana_password

# Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
METRICS_TOKEN=replace_with_metrics_token
# PRISMA_SLOW_QUERY_MS=200
# PRISMA_SLOW_QUERY_LOG_SQL=0
# PRISMA_SLOW_QUERY_LOG_PARAMS=0
# Logging
LOG_LEVEL=info
# LOG_HTTP_IGNORE_PATHS=/healthz,/readyz,/live,/metrics

# Alerts (Telegram for admins)
ALERT_TELEGRAM_BOT_TOKEN=
ALERT_TELEGRAM_CHAT_ID=
ALERTS_5XX_SAMPLE_RATE=0.0
ALERT_HTTP_5XX_PER_MIN=0
ALERT_HTTP_SLOW_PER_MIN=0
ALERT_HTTP_SLOW_THRESHOLD_MS=1500
ALERT_OUTBOX_DEAD_DELTA=0
ALERT_OUTBOX_PENDING_THRESHOLD=200
ALERT_OUTBOX_DEAD_THRESHOLD=5
ALERT_WORKER_STALE_MINUTES=5
ALERT_MONITOR_INTERVAL_MS=60000
ALERT_REPEAT_MINUTES=30

# S3 Backup (optional)
S3_BUCKET=loyalty-backups
S3_ACCESS_KEY=your_s3_access_key
S3_SECRET_KEY=your_s3_secret_key
S3_ENDPOINT=https://s3.amazonaws.com
S3_REGION=us-east-1

# Telegram staff notifications (optional)
TELEGRAM_NOTIFY_BOT_TOKEN=123456789:ReplaceWithRealToken
TELEGRAM_NOTIFY_WEBHOOK_SECRET=replace_with_random_secret

# Email Service (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=Loyalty Program <noreply@loyalty.example.com>

# Feature Flags
EARN_LOTS_FEATURE=1
LEDGER_FEATURE=1
POINTS_TTL_FEATURE=0
POINTS_TTL_BURN=0
POINTS_TTL_REMINDER=0

# Retention / GC (optional)
RETENTION_GC_INTERVAL_MS=21600000
ADMIN_AUDIT_RETENTION_DAYS=90
SYNC_LOG_RETENTION_DAYS=30
COMMUNICATION_TASK_RETENTION_DAYS=180
OUTBOX_GC_INTERVAL_MS=3600000
OUTBOX_RETENTION_DAYS=30
IDEMPOTENCY_GC_INTERVAL_MS=60000
IDEMPOTENCY_TTL_HOURS=72
