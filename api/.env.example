# Required
DATABASE_URL=postgresql://user:password@localhost:5432/loyalty
ADMIN_KEY=change_me_admin_key

# JWT and Security
QR_JWT_SECRET=change_me_qr_secret
ADMIN_SESSION_SECRET=change_me_session_secret

# Optional - Defaults shown
# NODE_ENV=development
# PORT=3000
CORS_ORIGINS=http://localhost:3001,http://localhost:3002,http://localhost:3003
IDEMPOTENCY_TTL_HOURS=72

# Telegram Miniapp
# TELEGRAM_BOT_TOKEN=
# TELEGRAM_BOT_USERNAME=

# Observability
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.0
OTEL_ENABLED=0
# OTEL_COLLECTOR_URL=http://localhost:4317
METRICS_TOKEN=

# Alerts (optional)
ALERT_TELEGRAM_BOT_TOKEN=
ALERT_TELEGRAM_CHAT_ID=
# 5xx alerts sampling rate (0..1)
ALERTS_5XX_SAMPLE_RATE=0.0

# Workers & Feature Flags
WORKERS_ENABLED=1
# Feature flags
EARN_LOTS_FEATURE=0
POINTS_TTL_FEATURE=0
POINTS_TTL_BURN=0
TTL_BURN_ENABLED=0

# Workers intervals/batches (optional)
EARN_ACTIVATION_INTERVAL_MS=900000
EARN_ACTIVATION_BATCH=500
HOLD_GC_INTERVAL_MS=60000
OUTBOX_WORKER_INTERVAL_MS=15000
OUTBOX_WORKER_CONCURRENCY=3
OUTBOX_MAX_RETRIES=10
OUTBOX_HTTP_TIMEOUT_MS=10000
OUTBOX_BACKOFF_BASE_MS=60000
OUTBOX_BACKOFF_CAP_MS=3600000
OUTBOX_RPS_DEFAULT=0
# OUTBOX_RPS_BY_MERCHANT="M1=5,M2=3"
TTL_BURN_INTERVAL_MS=86400000

# Hold Garbage Collector
# HOLD_GC_ENABLED=true
# HOLD_GC_INTERVAL_MS=60000

# Redis (for future throttling)
REDIS_URL=

# Workers-only mode (disable HTTP server)
NO_HTTP=0
