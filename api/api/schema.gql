# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AccessGroupDto {
  description: String
  id: ID!
  isDefault: Boolean!
  isSystem: Boolean!
  memberCount: Int!
  name: String!
  permissions: [AccessGroupPermissionDto!]!
  scope: AccessScope!
}

input AccessGroupDtoInput {
  description: String
  isDefault: Boolean
  name: String!
  permissions: [AccessGroupPermissionInput!]!
  scope: AccessScope
}

type AccessGroupListResponseDto {
  items: [AccessGroupDto!]!
  meta: PageMetaDto!
}

type AccessGroupPermissionDto {
  action: String!
  conditions: String
  resource: String!
}

input AccessGroupPermissionInput {
  action: String!
  conditions: String
  resource: String!
}

enum AccessScope {
  API
  CASHIER
  PORTAL
}

type CashierCredentialsDto {
  login: String
}

type CashierPinDto {
  id: ID!
  outletId: ID!
  outletName: String
  pinCode: String
  staffId: ID!
  staffName: String
  status: StaffOutletAccessStatus!
  updatedAt: DateTime!
}

type CashierRotationResultDto {
  login: String!
}

input ChangeStaffStatusInput {
  actorId: ID
  status: StaffStatus!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Mutation {
  portalAccessGroupCreate(input: AccessGroupDtoInput!): AccessGroupDto!
  portalAccessGroupDelete(id: ID!): Boolean!
  portalAccessGroupSetMembers(id: ID!, input: SetAccessGroupMembersInput!): Boolean!
  portalAccessGroupUpdate(id: ID!, input: AccessGroupDtoInput!): AccessGroupDto!
  portalCashierRotateCredentials(input: RotateCashierInput): CashierRotationResultDto!
  portalOutletCreate(input: UpsertOutletInput!): OutletDto!
  portalOutletUpdate(id: ID!, input: UpsertOutletInput!): OutletDto!
  portalStaffChangeStatus(id: ID!, input: ChangeStaffStatusInput!): StaffDetailDto!
  portalStaffCreate(input: UpsertStaffInput!): StaffDetailDto!
  portalStaffUpdate(id: ID!, input: UpsertStaffInput!): StaffDetailDto!
}

type OutletDeviceDto {
  code: String!
  id: ID!
}

input OutletDeviceInput {
  code: String!
}

type OutletDto {
  devices: [OutletDeviceDto!]
  id: ID!
  name: String!
  reviewsShareLinks: OutletReviewsShareLinksDto
  staffCount: Int
  status: String!
}

type OutletListResponseDto {
  items: [OutletDto!]!
  meta: PageMetaDto!
}

type OutletReviewsShareLinksDto {
  google: String
  twogis: String
  yandex: String
}

input OutletReviewsShareLinksInput {
  google: String
  twogis: String
  yandex: String
}

type PageMetaDto {
  page: Int!
  pageSize: Int!
  total: Int!
  totalPages: Int!
}

type Query {
  portalAccessGroup(id: ID!): AccessGroupDto!
  portalAccessGroups(page: Int = 1, pageSize: Int = 20, scope: String, search: String): AccessGroupListResponseDto!
  portalCashierCredentials: CashierCredentialsDto!
  portalCashierPins: [CashierPinDto!]!
  portalOutlet(id: ID!): OutletDto!
  portalOutlets(page: Int = 1, pageSize: Int = 20, search: String, status: String): OutletListResponseDto!
  portalStaff(id: ID!): StaffDetailDto!
  portalStaffList(groupId: ID, outletId: ID, page: Int = 1, pageSize: Int = 20, portalOnly: Boolean, search: String, status: String): StaffListResponseDto!
}

input RotateCashierInput {
  regenerateLogin: Boolean
}

input SetAccessGroupMembersInput {
  staffIds: [ID!]!
}

type StaffCountersDto {
  active: Int!
  archived: Int!
  fired: Int!
  pending: Int!
  portalEnabled: Int!
  suspended: Int!
}

type StaffDetailDto {
  accesses: [StaffOutletAccessDto!]!
  avatarUrl: String
  canAccessPortal: Boolean!
  comment: String
  email: String
  firstName: String
  groups: [StaffGroupDto!]!
  id: ID!
  isOwner: Boolean!
  lastActivityAt: String
  lastName: String
  lastPortalLoginAt: String
  login: String
  outletsCount: Int
  phone: String
  pinCode: String
  portalAccessEnabled: Boolean!
  portalLoginEnabled: Boolean!
  position: String
  role: StaffRole!
  status: StaffStatus!
}

type StaffGroupDto {
  id: ID!
  name: String!
  scope: AccessScope!
}

type StaffListResponseDto {
  counters: StaffCountersDto
  items: [StaffSummaryDto!]!
  meta: PageMetaDto!
}

type StaffOutletAccessDto {
  id: ID!
  lastTxnAt: String
  outletId: ID!
  outletName: String
  pinCode: String
  status: StaffOutletAccessStatus!
  transactionsTotal: Int
}

enum StaffOutletAccessStatus {
  ACTIVE
  EXPIRED
  REVOKED
}

enum StaffRole {
  ADMIN
  CASHIER
  MERCHANT
}

enum StaffStatus {
  ACTIVE
  ARCHIVED
  FIRED
  PENDING
  SUSPENDED
}

type StaffSummaryDto {
  accesses: [StaffOutletAccessDto!]!
  avatarUrl: String
  canAccessPortal: Boolean!
  email: String
  firstName: String
  groups: [StaffGroupDto!]!
  id: ID!
  isOwner: Boolean!
  lastActivityAt: String
  lastName: String
  lastPortalLoginAt: String
  login: String
  outletsCount: Int
  phone: String
  pinCode: String
  portalAccessEnabled: Boolean!
  portalLoginEnabled: Boolean!
  position: String
  role: StaffRole!
  status: StaffStatus!
}

input UpsertOutletInput {
  devices: [OutletDeviceInput!]
  name: String!
  reviewsShareLinks: OutletReviewsShareLinksInput
  works: Boolean
}

input UpsertStaffInput {
  accessGroupIds: [ID!]
  avatarUrl: String
  canAccessPortal: Boolean
  comment: String
  currentPassword: String
  email: String
  firstName: String
  lastName: String
  login: String
  outletIds: [ID!]
  password: String
  phone: String
  pinStrategy: String
  portalAccessEnabled: Boolean
  position: String
  role: StaffRole
  status: StaffStatus
}